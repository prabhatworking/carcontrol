<!DOCTYPE html>
<html>
<head>
  <title>ESP32 Car Control</title>
</head>
<body>
  <h2>ESP32 Car Remote Control</h2>

  <!-- Control buttons -->
  <button onclick="sendCommand('forward')">Forward</button>
  <button onclick="sendCommand('left')">Left</button>
  <button onclick="sendCommand('right')">Right</button>
  <button onclick="sendCommand('backward')">Backward</button>
  <button onclick="sendCommand('stop')">Stop</button>

  <!-- ✅ Firebase SDKs from working version -->
  <script src="https://www.gstatic.com/firebasejs/10.4.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.4.0/firebase-database-compat.js"></script>

  <!-- ✅ Firebase Init + Command Function -->
  <script>
    window.onload = function () {
      // Firebase config
      const firebaseConfig = {
        apiKey: "AIzaSyCk5RB-ubd1hVY7pf9KDVqh4X9l6H74548",
        authDomain: "esp32car-650e7.firebaseapp.com",
        databaseURL: "https://esp32car-650e7-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "esp32car-650e7",
        storageBucket: "esp32car-650e7.firebaseapp.com",
        messagingSenderId: "907772494012",
        appId: "1:907772494012:web:63b14b8ecb1ed07e0510b9"
      };

      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      const database = firebase.database();

      // Global command sender
      window.sendCommand = function(command) {
        database.ref('car/command').set(command)
          .then(() => console.log("Command sent:", command))
          .catch((err) => console.error("Error sending command:", err));
      };
    };
  </script>
</body>
</html>
